{"version":3,"sources":["../../core/src/index.ts","../src/index.ts"],"sourcesContent":["export interface LintDiagnostic {\n  severity: 'warning' | 'error' | 'info';\n  message: string;\n  location: { line: number; };\n}\n\nexport interface LintStats {\n  checks: number;\n}\n\nexport class CompatGuardLinter {\n  targetBaseline: string;\n  options: Record<string, any>;\n  stats: LintStats;\n  initialized: boolean;\n\n  constructor(targetBaseline: string = '2024', options: Record<string, any> = {}) {\n    this.targetBaseline = targetBaseline;\n    this.options = options;\n    this.stats = { checks: 0 };\n    this.initialized = false;\n  }\n\n  async initialize(): Promise<void> {\n    // Placeholder initialization (e.g., load baseline data)\n    this.initialized = true;\n    return;\n  }\n\n  async lintCode(code: string, fileType: string = 'javascript', opts: Record<string, any> = {}): Promise<{ diagnostics: LintDiagnostic[]; stats: LintStats }> {\n    this.stats.checks++;\n    // Very small heuristic similar to the stub\n    const diagnostics: LintDiagnostic[] = [];\n    const lines = code.split('\\n');\n    for (let i = 0; i < lines.length; i++) {\n      const l = lines[i];\n      if (l.includes('IntersectionObserver')) {\n        diagnostics.push({ severity: 'warning', message: 'IntersectionObserver detected', location: { line: i + 1 } });\n      }\n      if (l.includes(':has(') || l.includes('color-mix(')) {\n        diagnostics.push({ severity: 'warning', message: 'Modern CSS feature detected', location: { line: i + 1 } });\n      }\n    }\n    return { diagnostics, stats: this.stats };\n  }\n\n  getStats(): LintStats { return this.stats; }\n}\n\nexport default CompatGuardLinter;\n\n","import { CompatGuardLinter } from '@compatguard/core';\nimport { Compiler } from 'webpack';\n\ninterface CompatGuardWebpackPluginOptions {\n  targetBaseline?: string;\n  // Add other options as needed\n}\n\nexport class CompatGuardWebpackPlugin {\n  private opts: CompatGuardWebpackPluginOptions;\n  private linter: CompatGuardLinter;\n\n  constructor(opts: CompatGuardWebpackPluginOptions = {}) {\n    this.opts = opts;\n    this.linter = new CompatGuardLinter(opts.targetBaseline || '2024');\n  }\n\n  apply(compiler: Compiler) {\n    compiler.hooks.done.tap('CompatGuardWebpackPlugin', async () => {\n      await this.linter.initialize();\n      console.log('CompatGuardWebpackPlugin ran (stub).');\n    });\n  }\n}\n\nexport default CompatGuardWebpackPlugin;\n\n"],"mappings":";AAUO,IAAM,oBAAN,MAAwB;AAAA,EAM7B,YAAY,iBAAyB,QAAQ,UAA+B,CAAC,GAAG;AAC9E,SAAK,iBAAiB;AACtB,SAAK,UAAU;AACf,SAAK,QAAQ,EAAE,QAAQ,EAAE;AACzB,SAAK,cAAc;AAAA,EACrB;AAAA,EAEA,MAAM,aAA4B;AAEhC,SAAK,cAAc;AACnB;AAAA,EACF;AAAA,EAEA,MAAM,SAAS,MAAc,WAAmB,cAAc,OAA4B,CAAC,GAAiE;AAC1J,SAAK,MAAM;AAEX,UAAM,cAAgC,CAAC;AACvC,UAAM,QAAQ,KAAK,MAAM,IAAI;AAC7B,aAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AACrC,YAAM,IAAI,MAAM,CAAC;AACjB,UAAI,EAAE,SAAS,sBAAsB,GAAG;AACtC,oBAAY,KAAK,EAAE,UAAU,WAAW,SAAS,iCAAiC,UAAU,EAAE,MAAM,IAAI,EAAE,EAAE,CAAC;AAAA,MAC/G;AACA,UAAI,EAAE,SAAS,OAAO,KAAK,EAAE,SAAS,YAAY,GAAG;AACnD,oBAAY,KAAK,EAAE,UAAU,WAAW,SAAS,+BAA+B,UAAU,EAAE,MAAM,IAAI,EAAE,EAAE,CAAC;AAAA,MAC7G;AAAA,IACF;AACA,WAAO,EAAE,aAAa,OAAO,KAAK,MAAM;AAAA,EAC1C;AAAA,EAEA,WAAsB;AAAE,WAAO,KAAK;AAAA,EAAO;AAC7C;;;ACvCO,IAAM,2BAAN,MAA+B;AAAA,EAIpC,YAAY,OAAwC,CAAC,GAAG;AACtD,SAAK,OAAO;AACZ,SAAK,SAAS,IAAI,kBAAkB,KAAK,kBAAkB,MAAM;AAAA,EACnE;AAAA,EAEA,MAAM,UAAoB;AACxB,aAAS,MAAM,KAAK,IAAI,4BAA4B,YAAY;AAC9D,YAAM,KAAK,OAAO,WAAW;AAC7B,cAAQ,IAAI,sCAAsC;AAAA,IACpD,CAAC;AAAA,EACH;AACF;AAEA,IAAO,gBAAQ;","names":[]}